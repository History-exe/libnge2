function(add_nge_executable nm)
  add_executable(${nm} WIN32 ${ARGN})
  target_link_libraries(${nm} nge2 coolaudio sqlite3 unzip g stdc++ m c)
  if(PSP)
    target_link_libraries(${nm} vorbisfile vorbis ogg pspmpeg pspaudiocodec pspaudio psppower pspgum pspgu psprtc)
    pack_psp_eboot(${nm})
  endif()
endfunction()

function(add_resource all_res dir)
  set(res)
  foreach(arg ${ARGN})
    list(APPEND res ${dir}/${arg})
  endforeach()
  list(APPEND ${all_res} ${res})
  set(${all_res} ${${all_res}} PARENT_SCOPE)
endfunction()

function(copy_res_files target)
  set(files)

  foreach(arg ${ARGN})
    add_copy_file(files ../res/${arg} ${arg})
  endforeach()
  # message("files : ${files}")
  add_custom_target(${target}_res DEPENDS ${files})
  add_dependencies(${target} ${target}_res)
endfunction()

#demo 3 need pmp mod library.
foreach(i 0 1 2 4 5 6 7 8 9)
  add_subdirectory(demo${i})
endforeach()
